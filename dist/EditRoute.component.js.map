{"version":3,"file":"EditRoute.component.js","sourceRoot":"","sources":["../src/EditRoute.component.ts"],"names":[],"mappings":";;AAAA,sCAAsE;AACtE,iCAAiC;AACjC,6DAAgE;AAChE,uDAA+C;AAC/C,yCAA0C;AAC1C,6CAA2C;AAC3C,2CAAqC;;;;IAmBnC,4BAAQ,GAAR;QACE,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC;YAAA,IAAI,CAAC,UAAU,GAAG,mBAAM,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,CAAE,CAAA;KACrE;IAED,qCAAiB,GAAjB,UAAkB,MAAM;QACtB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,EAAE,CAAA;QAC3C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,mBAAK,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAE,CAAA;QAEpD,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;QAC/C,EAAE,CAAA,CAAC,KAAK,IAAE,CAAC,CAAC,CAAA,CAAC;YACX,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAE,KAAK,EAAC,CAAC,CAAE,CAAA;SACpC;QAAA,IAAI,CAAA,CAAC;YACJ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAE,MAAM,CAAE,CAAA;SACjC;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAA;KACrB;IAED,2BAAO,GAAP;QACE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;QAChD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;KAC1B;IAED,6BAAS,GAAT;QACE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,mBAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;QAClD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,IAAI,EAAE,OAAO,EAAC,IAAI,EAAE,UAAU,EAAC,IAAI,EAAE,IAAI,EAAC,IAAI,EAAE,IAAI,EAAC,IAAI,EAAC,CAAC,CAAA;KAC1F;IAED,iCAAa,GAAb,UAAc,MAAM;QAClB,MAAM,CAAC,IAAI,GAAG,mBAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;KACrB;IAED,iCAAa,GAAb,UAAc,MAAM,EAAC,KAAK;QACxB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;KACnC;IAED,+BAAW,GAAX,UAAY,IAAI,EAAC,KAAK;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;KAC9B;oBAhEH;;AAYgB,8BAAS","sourcesContent":["import { Input, Output, Component, EventEmitter } from '@angular/core'\nimport { fxArray } from \"./prefx\"\nimport { string as editRoute } from \"./templates/edit-route.pug\"\nimport { pipes } from \"ack-angular/pipes.class\"\nimport * as rjonHelper from \"./rjonHelper\"\nimport { statIconMap } from \"./statIconMap\"\nimport { Tester } from \"./rjonTester\"\n\n@Component({\n  selector:'edit-route',\n  template:editRoute,\n  animations:fxArray\n}) export class EditRoute{\n  statusView\n  GroupNames\n  statIconMap = statIconMap\n  testGroups = []\n  \n  @Input() route\n  @Input() routes\n  @Input() hosts\n  @Input() hostModel\n  @Output() onChange = new EventEmitter()\n  @Output() onClose = new EventEmitter()\n\n  ngOnInit(){\n    if(this.routes)this.testGroups = Tester.getTestGroups( this.routes )\n  }\n\n  toggleRouteStatus(status){\n    this.route.status = this.route.status || []\n    this.route.status = pipes.array( this.route.status )\n\n    const index = this.route.status.indexOf(status)\n    if(index>=0){\n      this.route.status.splice( index,1 )\n    }else{\n      this.route.status.push( status )\n    }\n\n    this.onChange.emit()\n  }\n\n  addNote(){\n    this.route.notes = pipes.array(this.route.notes)\n    this.route.notes.push('')\n  }\n\n  addSample(){\n    this.route.sample = pipes.array(this.route.sample)\n    this.route.sample.push({title:null, timeout:null, statusCode:null, only:null, skip:null})\n  }\n\n  addSampleTest(sample){\n    sample.test = pipes.array(sample.test)\n    sample.test.push({})\n  }\n\n  setSampleBody(sample,value){\n    sample.request = JSON.parse(value)\n  }\n\n  setTestBody(test,value){\n    test.body = JSON.parse(value)\n  }\n}"]}